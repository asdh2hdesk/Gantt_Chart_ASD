<?xml version="1.0" encoding="utf-8"?>
<templates id="template" xml:space="preserve">

    <!-- Original Frappe Gantt Widget Template -->
    <t t-name="FrappeGanttWidget">
        <div class="gantt-widget-container">
            <div class="gantt-header">
                <h3 class="gantt-title" style="font-family: Poppins, sans-serif; font-size: 200px; color: #2c3e50;">
                    Gantt Chart
                </h3>
                <div class="gantt-actions">
                    <button class="btn btn-primary btn-sm refresh-btn">
                        <i class="fa fa-refresh"></i> Refresh
                    </button>
                </div>
            </div>
            <div class="gantt-chart-container">
                <div id="gantt-chart"></div>
            </div>
        </div>
    </t>

    <!-- Combined Gantt Widget Template -->
    <t t-name="CombinedGanttWidget">
        <div class="combined-gantt-container">
            <!-- Left Panel - Task List and Form -->
            <div class="left-panel">
                <div class="list-container">
                    <!-- Task list will be dynamically populated -->
                </div>
            </div>

            <!-- Right Panel - Gantt Chart -->
            <div class="right-panel">
                <div class="gantt-header">
                    <div class="gantt-title">
                        <h3><t t-esc="widget.project_name or 'Project Gantt Chart'"/></h3>
                        <t t-if="widget.wbs_root">
                            <small class="text-muted">WBS Root: <t t-esc="widget.wbs_root"/></small>
                        </t>
                    </div>

                    <div class="gantt-controls">
                        <!-- View Mode Buttons -->
                        <div class="view-mode-controls">
                            <button class="btn btn-sm btn-outline-secondary view-mode-btn" data-view-mode="Day">Day</button>
                            <button class="btn btn-sm btn-outline-secondary view-mode-btn active" data-view-mode="Week">Week</button>
                            <button class="btn btn-sm btn-outline-secondary view-mode-btn" data-view-mode="Month">Month</button>
                        </div>

                        <!-- Action Buttons -->
                        <div class="action-controls">
                            <button class="btn btn-sm btn-outline-primary refresh-btn">
                                <i class="fa fa-refresh"></i> Refresh
                            </button>
<!--                            <t t-if="widget.wbs_root">-->
<!--                                <button class="btn btn-sm btn-success create-task-btn">-->
<!--                                    <i class="fa fa-plus"></i> Add Task-->
<!--                                </button>-->
<!--                            </t>-->
                        </div>
                    </div>
                </div>

                <div class="gantt-container">
                    <div id="gantt-chart"></div>
                </div>
            </div>
        </div>
    </t>

    <!-- Project Task Summary Template (for homepage) -->
    <t t-name="ProjectTaskSummary">
        <div class="project-summary-card">
            <div class="project-header">
                <h4><t t-esc="project.name"/></h4>
                <span class="project-wbs">WBS: <t t-esc="project.wbs"/></span>
            </div>
            <div class="project-stats">
                <div class="stat-item">
                    <span class="stat-label">Start Date:</span>
                    <span class="stat-value"><t t-esc="project.start_date"/></span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">End Date:</span>
                    <span class="stat-value"><t t-esc="project.end_date"/></span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">Duration:</span>
                    <span class="stat-value"><t t-esc="project.duration"/> days</span>
                </div>
            </div>
            <div class="project-progress">
                <div class="progress-bar-container">
                    <div class="progress-bar" t-att-style="'width: ' + (project.progress or 0) + '%'"></div>
                </div>
                <span class="progress-text"><t t-esc="project.progress or 0"/>% Complete</span>
            </div>
        </div>
    </t>

</templates>